appId: com.layerzwallet.mobile

---
- runFlow:
    file: wallet-creation.yml

- tapOn:
    id: "settings-button"

# Scroll to the bottom to find the Self Test button as emu screen can be small
- scroll
- scroll

# Look for the Self Test button in the Developer Options section
- extendedWaitUntil:
    visible: "Developer Options"
    timeout: 5000
    optional: true

- tapOn:
    id: "self-test-button"
    
- tapOn: 
    text: "Run Self Test!"
    retryTapIfNoChange: true

- extendedWaitUntil:
    visible: "running"
    timeout: 10000
    optional: true
    
- extendedWaitUntil:
    visible: "ok!"
    timeout: 180000

- assertVisible: "ok!"